<!-- 文件2：跳转页面 (新建 文本文档 (2).txt) -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        /* 保留原有背景动画样式 */
        .link-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        .link-card {
            padding: 20px;
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
            backdrop-filter: blur(5px);
            transition: transform 0.3s;
            cursor: pointer;
        }
        .link-card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">...</div>
        <div id="tips">
            <h2>选择跳转链接</h2>
            <div class="link-grid" id="linkGrid"></div>
        </div>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const links = Array.from({length:6}, (_,i) => 
            decodeURIComponent(urlParams.get(`link${i+1}`) || '')
        ).filter(Boolean);

        const ua = navigator.userAgent.toLowerCase();
        const isWechat = ua.includes('micromessenger');
        const isQQ = ua.includes('qq');

        if (links.length > 0) {
            if (isWechat || isQQ) {
                document.getElementById('linkGrid').innerHTML = links
                    .map((link, i) => `
                        <div class="link-card" onclick="handleRedirect(${i})">
                            <h3>选项 ${i+1}</h3>
                            <p>${new URL(link).hostname}</p>
                        </div>
                    `).join('');
            } else {
                // 自动跳转第一个链接
                window.location.href = links[0];
            }
        }

        function handleRedirect(index) {
            const newWindow = window.open();
            newWindow.location.href = links[index];
            setTimeout(() => {
                if (newWindow.closed) {
                    alert('跳转被阻止，请手动复制链接：\n' + links[index]);
                }
            }, 1000);
        }
    </script>
</body>
</html>
